# Meme Economy Telegram Bot

–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π Telegram-–±–æ—Ç –∑ –º–µ–º–Ω–æ—é –µ–∫–æ–Ω–æ–º—ñ–∫–æ—é, –∫–æ–ª–µ–∫—Ü—ñ–π–Ω–∏–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ —Ç–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–º. –ü—Ä–æ—î–∫—Ç –ø–æ–±—É–¥–æ–≤–∞–Ω–æ –Ω–∞ `aiogram 3`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PostgreSQL + SQLAlchemy (async) —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–ø–ª–æ—é –Ω–∞ Render.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- –≤–∞–ª—é—Ç–∞ **VUSD**, —Å—Ç–∞—Ä—Ç–æ–≤—ñ —Ç–∞ —â–æ–¥–µ–Ω–Ω—ñ –±–æ–Ω—É—Å–∏
- —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑ –ø–∞—Å–∏–≤–Ω–∏–º –¥–æ—Ö–æ–¥–æ–º 10% –≤—ñ–¥ –±–æ–Ω—É—Å—ñ–≤ –¥—Ä—É–≥–∞
- 195 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ —ñ–∑ —Ä—ñ–¥–∫–æ—Å—Ç—è–º–∏, –∫–æ–ª—å–æ—Ä–∞–º–∏ —Ç–∞ —Ç–∏–ø–∞–º–∏ (card/gif/artifact)
- 11 –∫–µ–π—Å—ñ–≤ –∑ pity-—Å–∏—Å—Ç–µ–º–æ—é, —É–ª—å—Ç—Ä–∞- —ñ –∫–æ–ª–µ–∫—Ç–æ—Ä—Å—å–∫–∏–º–∏ –≤–∏–ø—É—Å–∫–∞–º–∏
- –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –∑ –∫–æ–º—ñ—Å—ñ—î—é 5%, –º–∏—Ç—Ç—î–≤–∏–π –≤–∏–∫—É–ø –±–æ—Ç–æ–º, –ª—ñ–¥–µ—Ä–±–æ—Ä–¥–∏
- —â–æ–¥–µ–Ω–Ω–µ –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è Collector Points —Å–∫—Ä–∏–ø—Ç–æ–º `scheduler/cron_daily.py`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
.
‚îú‚îÄ app/
‚îÇ  ‚îú‚îÄ main.py                # –∑–∞–ø—É—Å–∫ long polling
‚îÇ  ‚îú‚îÄ config.py              # Pydantic Settings (.env)
‚îÇ  ‚îú‚îÄ db/                    # –±–∞–∑–∞, –º–æ–¥–µ–ª—ñ, Alembic
‚îÇ  ‚îú‚îÄ services/              # –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (users, cases, market, pricing...)
‚îÇ  ‚îú‚îÄ handlers/              # aiogram-—Ä–æ—É—Ç–µ—Ä–∏ –∫–æ–º–∞–Ω–¥
‚îÇ  ‚îú‚îÄ seeds/                 # catalog.json, cases.json, seed.py
‚îÇ  ‚îú‚îÄ scheduler/cron_daily.py# —â–æ–¥–µ–Ω–Ω—ñ CP
‚îÇ  ‚îî‚îÄ texts/keyboards/utils  # –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏, —É—Ç–∏–ª—ñ—Ç–∏
‚îú‚îÄ requirements.txt
‚îú‚îÄ alembic.ini + app/db/migrations
‚îú‚îÄ render.yaml, Procfile, runtime.txt
‚îú‚îÄ tests/                    # pytest –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏
‚îî‚îÄ README.md
```

## –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ** —ñ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```
2. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`** –Ω–∞ –æ—Å–Ω–æ–≤—ñ [.env.sample](.env.sample) —ñ –≤–∫–∞–∂—ñ—Ç—å `BOT_TOKEN`, `DATABASE_URL` (—Ñ–æ—Ä–º–∞—Ç `postgresql+asyncpg://...`).
3. **–ü—Ä–æ–≥–æ–Ω—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó**:
   ```bash
   alembic upgrade head
   ```
4. **–ó–∞—Å—ñ–π—Ç–µ –±–∞–∑—É** –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ —Ç–∞ –∫–µ–π—Å–∞–º–∏:
   ```bash
   python app/seeds/seed.py
   ```
5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞**:
   ```bash
   python -m app.main
   ```

## –†–µ–Ω–¥–µ—Ä (Render.com)
1. –ó–∞–ø—É—à—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub.
2. –ù–∞ Render —Å—Ç–≤–æ—Ä—ñ—Ç—å *Blueprint* —ñ–∑ —Ñ–∞–π–ª—É `render.yaml`.
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ë–î —Ç–∞ –≤–æ—Ä–∫–µ—Ä–∞. –£ —Å–µ—Ä–≤—ñ—Å—ñ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `BOT_TOKEN` —ñ `DATABASE_URL` (URL –±–µ—Ä–µ—Ç—å—Å—è –∑ –≤–∫–ª–∞–¥–∫–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö).
4. –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —É —Ä–µ–∂–∏–º—ñ long polling, –≤–µ–±—Ö—É–∫–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ.

## –¢–µ—Å—Ç–∏ —Ç–∞ —è–∫—ñ—Å—Ç—å –∫–æ–¥—É
- —é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏: `pytest`
- –ª—ñ–Ω—Ç–µ—Ä (–∑–∞ –±–∞–∂–∞–Ω–Ω—è–º): –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ `ruff` –∞–±–æ `flake8`
- –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ–π (`info` —Ä—ñ–≤–µ–Ω—å) –ø—Ä–∏—Å—É—Ç–Ω—î —É —Å–µ—Ä–≤—ñ—Å–∞—Ö —Ç–∞ scheduler

## –ë–µ–∑–ø–µ–∫–∞
- **–ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ñ —Ç–æ–∫–µ–Ω–∏** Telegram –∞–±–æ –ø–∞—Ä–æ–ª—ñ –ë–î. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.env`.
- –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –≤–≤—ñ–º–∫–Ω—É—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –∑–∞–ø—É—Å–∫ `scheduler/cron_daily.py` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Render Cron job).

–£—Å–ø—ñ—à–Ω–æ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ –º–µ–º–∞–º–∏! üöÄ
